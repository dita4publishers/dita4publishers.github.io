<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Variables Domain</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="schema.DC" href="http://purl.org/dc/terms/"><meta name="DC.Type" content="concept"><meta name="description" content="The variables domain provides markup for declaring and referencing variables that are scoped by the map and topic hierarchy."><meta name="DC.Relation" scheme="URI" content="ruby-domain.html"><meta name="DC.Relation" scheme="URI" content="verse-domain.html"><meta name="prodname" content="DITA For Publishers"><meta name="version" content="1"><meta name="release" content="0"><meta name="modification" content="0RC25"><meta name="DC.Creator" content="W. Eliot Kimber"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="conceptId"><script type="text/javascript">var d4p = {"relativePath":"..\/..\/..\/..\/","dev":false,"debug":false,"draft":false,"nextTopicHref":"user_docs\/d4p-users-guide\/vocabulary-part\/topics\/verse-domain.html","previousTopicHref":"user_docs\/d4p-users-guide\/vocabulary-part\/topics\/ruby-domain.html","ext":".html","root":false,"topic":{"chunked":""},"map":{"title":"  DITA For Publishers User Guide  ","chunked":false},"search":{"minlength":2},"l":{"searchPageHeading":"Search Results","close":"Close"}}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="../../../../themes/dita-d4p-classic/css/style.css"><link rel="stylesheet" type="text/css" media="screen, projection, print" href="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,
          
          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,
          
          // Optional callback... myCallback(i, width)
          callback: doc_resize,
          
          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  = mobile.css',
             // medium (size-1, size-2)
            '760px  to 980px  = 720.css',
            '980px  to 1270px = 960.css',
             // large (size-3, size-5)
            '1270px to 1600px = 1200.css',
            '1600px to 1940px = 1560.css',
             // extra large (size-6)
            '1940px to 2540px = 1920.css',
            '2540px           = 2520.css'
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="../../../../themes/dita-d4p-classic/js/script.js"></script></head><body class=" dita-d4p-classic centered navigation-default"><div id="d4h5-main-container" class="container_12" role="application"><header role="banner" aria-labelledby="publication-title" class="hide-for-small"><div class="grid_8"><h1 id="publication-title">  DITA For Publishers User Guide  </h1></div><section class="grid_4 search-box"><form id="search" role="search"><div class="form-group"><input id="search-text" type="text" autocomplete="off" class="form-control" placeholder="Search"></div></form></section><section class="clearfix"></section></header><div id="d4h5-section-container" class="grid_12"><nav id="local-navigation" class="grid_4 alpha omega" role="navigation" aria-label="Main navigation"><div id="nav-content"><ul><li><a href="../../../../index.html">Table of Contents</a></li><li><a href="../../frontmatter/coverpage.html">DITA For Publishers User Guide</a></li><li><a href="../../topics/about-this-book.html">About This Book</a></li><li class="collapsible collapsed"><a href="../../release-notes/release-notes.html">Release Notes</a><ul><li><a href="../../release-notes/release-notes-1.0.0RC25.html">Release Notes: Version 1.0.0RC25</a></li><li><a href="../../release-notes/release-notes-1.0.0RC20.html">Release Notes: Version 1.0.0RC20</a></li><li><a href="../../release-notes/release-notes-1.0.0RC19.html">Release Notes: Version 1.0.0RC19</a></li><li><a href="../../release-notes/release-notes-1.0.0RC17.html">Release Notes: Version 1.0.0RC17</a></li><li><a href="../../release-notes/release-notes-1.0.0.html">Release Notes: Version 1.0.0RC00 (github version)</a></li><li><a href="../../release-notes/release-notes-0.9.19.html">Release Notes: Version 0.9.19RC12</a></li><li><a href="../../release-notes/release-notes-0.9.18.html">Release Notes: Version 0.9.18</a></li><li><a href="../../release-notes/release-notes-0.9.16.html">Release Notes: Version 0.9.16</a></li><li><a href="../../release-notes/release-notes-0.9.15.html">Release Notes: Version 0.9.15</a></li><li><a href="../../release-notes/release-notes-0.9.14.html">Release Notes: Version 0.9.14</a></li><li><a href="../../release-notes/release-notes-0.9.13.html">Release Notes: Version 0.9.13</a></li><li><a href="../../release-notes/release-notes-0.9.12.html">Release Notes: Version 0.9.12</a></li><li><a href="../../release-notes/release-notes-0.9.11.html">Release Notes: Version 0.9.11</a></li><li><a href="../../release-notes/release-notes-0.9.10.html">Release Notes: Version 0.9.10</a></li><li><a href="../../release-notes/release-notes-0.9.9.html">Release Notes: Version 0.9.9</a></li></ul></li><li><a href="../../topics/intro-to-d4p.html"><span class="enumeration enumeration0">Chapter&nbsp;1. </span>Introduction to DITA For Publishers</a></li><li class="collapsible collapsed"><a href="../../introduction-chapter.html"><span class="enumeration enumeration0">Part&nbsp;I. </span>The DITA For Publishers Open Toolkit Plugins</a><ul><li class="collapsible collapsed"><a href="../../tasks/plugin-installation.html"><span class="enumeration enumeration1">Chapter&nbsp;2. </span>Installing the Toolkit Plugins</a><ul><li><a href="../../epub-plugin/setting-up-kindlegen.html">Setting Up The kindlegen Command-Line Utility</a></li></ul></li><li class="collapsible collapsed"><a href="../../epub-plugin/generating-epubs.html"><span class="enumeration enumeration1">Chapter&nbsp;3. </span>Generating EPUBs and Kindle Books from DITA Content</a><ul><li><a href="../../epub-plugin/generating-epubs-from-oxygen.html">Generating EPUBs From OxygenXML</a></li><li><a href="../../epub-plugin/generating-kindle-books-from-oxygen.html">Generating Kindle Books From OxygenXML</a></li><li><a href="../../epub-plugin/using-custom-css.html">Using Custom CSS Style Sheets</a></li><li><a href="../../epub-plugin/using_custom_javascript.html">Using Custom JavaScript</a></li><li><a href="../../epub-plugin/creating-cover-graphics.html">Creating Cover Graphics and Covers</a></li><li><a href="../../epub-plugin/creating-opf-metadata.html">Creating Arbitrary EPUB OPF Metadata</a></li><li><a href="../../epub-plugin/overriding-base-processing.html">Implementing Overrides for Common Processing</a></li><li><a href="../../epub-plugin/embedding-fonts.html">Embedding Fonts in Your EPUB</a></li><li class="collapsible collapsed"><a href="../../epub-plugin/epub-transtype-parameters-ref.html">EPUB and Kindle Transformation Parameters</a><ul><li><a href="../../epub-plugin/reference/ant-parm-coverGraphicFile.html">cover.graphic.file Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-epubtype.html">d4p.epubtype Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-d4pMaxNavDepth.html">d4p.max.nav.depth Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-d4pMaxTocDepth.html">d4p.max.toc.depth Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-epubIncludeAutoRellinks.html">epub.exclude.auto.rellinks Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-epub-copy-system-css.html">epub.copy.system.css Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-epub-font-manifest.html">epub.font.manifest Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-epub-font-output-dir.html">epub.fonts.output.dir Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-epub-javascript-dir.html">epub.javascript.dir Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-epub-javascript-file.html">epub.javascript.file Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-epubPubidUriStub.html">epub.pubid.uri.stub Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-d4p.obfuscate.fonts.html">epub.obfuscate.fonts Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-d4p.generate-css-font-rules.html">epub.generate.css.font.rules Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-epubTempDir.html">epub.temp.dir Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-imagesOutputDir.html">images.output.dir Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-kindleGenExecutable.html">kindlegen.executable Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-titleOnlyTopicClassSpec.html">title.only.topic.class.spec Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-titleOnlyTopicTitleClassSpec.html">title.only.topic.title.class.spec Ant parameter</a></li><li><a href="../../epub-plugin/reference/ant-parm-topicsOutputDir.html">topics.output.dir Ant parameter</a></li></ul></li></ul></li><li class="collapsible collapsed"><a href="../../map-driven-processing/map-driven-processing.html"><span class="enumeration enumeration1">Chapter&nbsp;4. </span>Map-Driven Processing</a><ul><li><a href="../../map-driven-processing/data-collection.html">Data Collection Processing Phase</a></li><li><a href="../../map-driven-processing/enumeration.html">Numbering Things: Collected Data and Enumeration</a></li><li><a href="../../map-driven-processing/index-generation.html">Index Generation</a></li><li><a href="../../map-driven-processing/graphic-map-generation.html">Graphic Map Generation</a></li></ul></li><li class="collapsible collapsed"><a href="../../html2-plugin/html2-toolkit-plugin.html"><span class="enumeration enumeration1">Chapter&nbsp;5. </span>HTML2 Plugin</a><ul><li class="collapsible collapsed"><a href="../../html2-plugin/understanding-html2-transforms.html">Understanding the HTML2 Transformations</a><ul><li><a href="../../html2-plugin/overall-process-flow.html">Overall HTML Generation Process Flow</a></li><li class="collapsible collapsed"><a href="../../html2-plugin/customizing-enumeration.html">Extending and Customizing Enumeration Processing (Numbering)</a><ul><li><a href="../../topics/using-collected-data.html">Using collected-data</a></li></ul></li></ul></li><li class="collapsible collapsed"><a href="../../html2-plugin/html2-transtype-parameters-ref.html">HTML2 Transformation Parameters</a><ul><li><a href="../../html2-plugin/reference/ant-parm-fileOrganizationStrategy.html">html2.file.organization.strategy Ant parameter</a></li><li><a href="../../html2-plugin/reference/ant-parm-generateDynamicToc.html">html2.generate.dynamic.toc Ant parameter</a></li><li><a href="../../html2-plugin/reference/ant-parm-generateFrameset.html">html2.generate.frameset Ant parameter</a></li><li><a href="../../html2-plugin/reference/ant-parm-generateStaticToc.html">html2.generate.static.toc Ant parameter</a></li></ul></li></ul></li><li class="collapsible collapsed"><a href="../../html5-plugin/html5-toolkit-plugin.html"><span class="enumeration enumeration1">Chapter&nbsp;6. </span>HTML5 Plugin</a><ul><li class="collapsible collapsed"><a href="../../html5-plugin/general/html5-getting-started.html">Getting Started With the HTML5 Transformation</a><ul><li><a href="../../html5-plugin/general/requirements.html">Requirements</a></li><li><a href="../../html5-plugin/general/downloading.html">Downloading HTML5 plugin</a></li><li><a href="../../html5-plugin/general/install.html">Specific installation notes for developers</a></li><li><a href="../../html5-plugin/general/running.html">Running the HTML5 Plugin</a></li><li><a href="../../html5-plugin/general/changed_behavior.html">Changed Behaviours</a></li><li><a href="../../html5-plugin/general/licence.html">License</a></li></ul></li><li class="collapsible collapsed"><a href="../../html5-plugin/dev/html5-default-theme.html">The default theme</a><ul><li><a href="../../html5-plugin/general/setting-an-index.html">Replacing the index.html file</a></li><li><a href="../../html5-plugin/how-to/muti-columns.html">Multiple columns layout</a></li><li><a href="../../html5-plugin/how-to/css-grid.html">CSS grid</a></li><li><a href="../../html5-plugin/how-to/images.html">Image support</a></li><li><a href="../../html5-plugin/how-to/notes.html">Notes</a></li><li class="collapsible collapsed"><a href="../../html5-plugin/how-to/ui-intro.html">UI</a><ul><li><a href="../../html5-plugin/how-to/accordion.html">Accordion</a></li><li><a href="../../html5-plugin/how-to/ui-images.html">Cycle</a></li></ul></li></ul></li><li class="collapsible collapsed"><a href="../../html5-plugin/general/developers.html">Developers</a><ul><li><a href="../../html5-plugin/dev/customization-plugin.html">Creating a customization plugin</a></li><li class="collapsible collapsed"><a href="../../html5-plugin/dev/theme-dev.html">Theme Development</a><ul><li><a href="../../html5-plugin/dev/theme-general-process.html">The Theme cache process</a></li><li><a href="../../html5-plugin/dev/theme-config.html">Theme configuration file: principle</a></li><li><a href="../../html5-plugin/dev/theme-config-file.html">Let's explore the configuration file</a></li><li><a href="../../html5-plugin/how-to/theme-add-conditional-css.html">How to add Internet Explorer conditional css</a></li><li><a href="../../html5-plugin/how-to/analytics.html">Adding Google analytics tracking code</a></li></ul></li></ul></li><li class="collapsible collapsed"><a href="../../html5-plugin/references/html5-reference.html">HTML5 Transform Reference</a><ul><li><a href="../../html5-plugin/dev/directory-structure.html">Directory structure</a></li><li><a href="../../html5-plugin/references/ant-properties.html">Availaible ant properties</a></li></ul></li></ul></li><li><a href="../../word2dita/word-to-dita-plugin.html"><span class="enumeration enumeration1">Chapter&nbsp;7. </span>Generating DITA from Documents (Word-to-DITA Transformation Framework)</a></li><li><a href="../../topics/extending-d4p-plugins.html"><span class="enumeration enumeration1">Chapter&nbsp;8. </span>Extending the DITA for Publishers Transformations</a></li></ul></li><li class="collapsible active"><a href="../vocabulary-part.html"><span class="enumeration enumeration0">Part&nbsp;II. </span>The DITA For Publishers Markup Vocabulary</a><ul><li class="collapsible active"><a href="../d4p-vocabulary-concepts.html"><span class="enumeration enumeration1">Chapter&nbsp;9. </span>Understanding the DITA For Publishers Markup Vocabulary</a><ul><li class="collapsible active"><a href="specialization-modules-overview.html">DITA for Publishers Vocabulary Modules Overview</a><ul><li><a href="d4p-topic-types.html">Publication Component Topic Types</a></li><li><a href="pubmap-domain.html">Publication Maps</a></li><li class="collapsible active"><a href="../domain-modules-overview.html">DITA For Publishers Domains</a><ul><li><a href="../map-domains-overview.html">Publication Map Domains</a></li><li><a href="../topic-domains-overview.html">Topic Domains</a></li><li><a href="classification-domain.html">Classification Domain</a></li><li><a href="enumeration-domains.html">Enumeration Domains</a></li><li><a href="formatting-domain.html">Formatting Domain</a></li><li><a href="pubcontent-domain.html">Publication Content Domain</a></li><li><a href="../rendition-target-att.html">Rendition Target Attribute Domain</a></li><li><a href="ruby-domain.html">Ruby Domain</a></li><li class=" active"><a href="variables-domain.html" class=" selected">Variables Domain</a></li><li><a href="verse-domain.html">Verse Domain</a></li><li><a href="xml-domain.html">XML Domain</a></li></ul></li></ul></li></ul></li><li class="collapsible collapsed"><a href="../integrating-modules.html"><span class="enumeration enumeration1">Chapter&nbsp;10. </span>Integrating D4P Modules Into Document Type Shells</a><ul><li><a href="../integrating-attribute-domains.html">Integrating Attribute Domains</a></li></ul></li><li class="collapsible collapsed"><a href="../d4p-vocabulary-reference.html"><span class="enumeration enumeration1">Chapter&nbsp;11. </span>DITA For Publishers Vocabulary Reference</a><ul><li class="collapsible collapsed"><a href="../../../../languageRef/topic-type-specializations.html">Topic Type Specializations</a><ul><li class="collapsible collapsed"><a href="../../../../languageRef/article/article.html">article</a><ul><li><a href="../../../../languageRef/article/deck.html">deck</a></li></ul></li><li><a href="../../../../languageRef/chapter/chapter.html">chapter</a></li><li><a href="../../../../languageRef/conversion_configuration/conversion_configuration.html">conversion_configuration</a></li><li><a href="../../../../languageRef/concept/concept.html">concept</a></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4pCover/d4pCover.html">d4pCover</a><ul><li><a href="../../../../languageRef/d4pCover/d4pCoverTitle.html">d4pCoverTitle</a></li></ul></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4pExercise/d4pExercise.html">d4pExercise</a><ul><li><a href="../../../../languageRef/d4pExercise/d4pExerciseBody.html">d4pExerciseBody</a></li></ul></li><li><a href="../../../../languageRef/d4pQuestionTopic/d4pQuestionTopic.html">d4pQuestionTopic</a></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4pSlide/d4pSlide.html">d4pSlide</a><ul><li><a href="../../../../languageRef/d4pExercise/d4pInstructorNotes.html">d4pInstructorNotes</a></li><li><a href="../../../../languageRef/d4pSlide/d4pSlideBody.html">d4pSlideBody</a></li><li><a href="../../../../languageRef/d4pExercise/d4pStudentNotes.html">d4pStudentNotes</a></li></ul></li><li><a href="../../../../languageRef/division/division.html">division</a></li><li><a href="../../../../languageRef/part/part.html">part</a></li><li><a href="../../../../languageRef/reference/reference.html">reference</a></li><li><a href="../../../../languageRef/sidebar/sidebar.html">sidebar</a></li><li><a href="../../../../languageRef/style2tagmap/style2tagmap.html">style2tagmap</a></li><li><a href="../../../../languageRef/subsection/subsection.html">subsection</a></li><li><a href="../../../../languageRef/task/task.html">task</a></li><li><a href="../../../../languageRef/topic/topic.html">topic</a></li><li><a href="../../../../languageRef/topic_mathonly/topic_mathonly.html">topic_mathonly</a></li></ul></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4p-domains.html">Element and Attribute Domains</a><ul><li class="collapsible collapsed"><a href="../../../../languageRef/d4p_bibbaseDomain/d4p_bibbaseDomain.html">d4p_bibbaseDomain</a><ul><li><a href="../../../../languageRef/d4p_bibbaseDomain/d4p_biblioentryBase.html">d4p_biblioentryBase</a></li><li><a href="../../../../languageRef/d4p_bibbaseDomain/d4p_bibliosetBase.html">d4p_bibliosetBase</a></li></ul></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4p_classificationDomain/d4p_classificationDomain.html">d4p_classificationDomain</a><ul><li><a href="../../../../languageRef/d4p_classificationDomain/classification_element.html">classification_element</a></li></ul></li><li><a href="../../../../languageRef/d4p_enumerationBaseTopicDomain/d4p_enumerationBaseTopicDomain.html">d4p_enumerationBaseTopicDomain</a></li><li><a href="../../../../languageRef/d4p_enumerationMapDomain/d4p_enumerationMapDomain.html">d4p_enumerationMapDomain</a></li><li><a href="../../../../languageRef/d4p_enumerationTopicDomain/d4p_enumerationTopicDomain.html">d4p_enumerationTopicDomain</a></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4p_formattingDomain/d4p_formattingDomain.html">d4p_formattingDomain</a><ul><li><a href="../../../../languageRef/d4p_formattingDomain/art-ph.html">art-ph</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/art.html">art</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/art_title.html">art_title</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/b-i.html">b-i</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/b-sc.html">b-sc</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/br.html">br</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/catalog.html">catalog</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/d4p_sidebar-anchor.html">d4p_sidebar-anchor</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/d4pMathML.html">d4pMathML</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/d4pSidebarAnchor.html">d4pSidebarAnchor</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/dropcap.html">dropcap</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/eqn_block.html">eqn_block</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/eqn_inline.html">eqn_inline</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/frac.html">frac</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/inx_snippet.html">inx_snippet</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/linethrough.html">linethrough</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/roman.html">roman</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/sc.html">sc</a></li><li><a href="../../../../languageRef/d4p_formattingDomain/tab.html">tab</a></li></ul></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4p_mathDomain/d4p_mathDomain.html">d4p_mathDomain</a><ul><li><a href="../../../../languageRef/d4p_mathDomain/d4p_display-equation.html">d4p_display-equation</a></li><li><a href="../../../../languageRef/d4p_mathDomain/d4p_eqn_block.html">d4p_eqn_block</a></li><li><a href="../../../../languageRef/d4p_mathDomain/d4p_eqn_inline.html">d4p_eqn_inline</a></li><li><a href="../../../../languageRef/d4p_mathDomain/d4p_MathML.html">d4p_MathML</a></li></ul></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4p_mediaDomain/d4p_mediaDomain.html">d4p_mediaDomain</a><ul><li><a href="../../../../languageRef/d4p_mediaDomain/d4p_audio.html">d4p_audio</a></li><li><a href="../../../../languageRef/d4p_mediaDomain/d4p_media_source.html">d4p_media_source</a></li><li><a href="../../../../languageRef/d4p_mediaDomain/d4p_media_tracks.html">d4p_media_tracks</a></li><li><a href="../../../../languageRef/d4p_mediaDomain/d4p_video.html">d4p_video</a></li><li><a href="../../../../languageRef/d4p_mediaDomain/d4p_video_poster.html">d4p_video_poster</a></li><li><a href="../../../../languageRef/d4p_mediaDomain/d4p_video_source.html">d4p_video_source</a></li><li><a href="../../../../languageRef/d4p_mediaDomain/d4p_video_tracks.html">d4p_video_tracks</a></li></ul></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4p_pubcontentDomain/d4p_pubcontentDomain.html">d4p_pubcontentDomain</a><ul><li><a href="../../../../languageRef/d4p_pubcontentDomain/body-pullquote.html">body-pullquote</a></li><li><a href="../../../../languageRef/d4p_pubcontentDomain/d4pAssetSource.html">d4pAssetSource</a></li><li><a href="../../../../languageRef/d4p_pubcontentDomain/d4pAttributedQuote.html">d4pAttributedQuote</a></li><li><a href="../../../../languageRef/d4p_pubcontentDomain/d4pQuoteAttribution.html">d4pQuoteAttribution</a></li><li><a href="../../../../languageRef/d4p_pubcontentDomain/epigram-attribution.html">epigram-attribution</a></li><li><a href="../../../../languageRef/d4p_pubcontentDomain/epigram.html">epigram</a></li><li><a href="../../../../languageRef/d4p_pubcontentDomain/epigraph-attribution.html">epigraph-attribution</a></li><li><a href="../../../../languageRef/d4p_pubcontentDomain/epigraph.html">epigraph</a></li><li><a href="../../../../languageRef/d4p_pubcontentDomain/section-pullquote.html">section-pullquote</a></li></ul></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4p_renditionTargetAttDomain/d4p_renditionTargetDomain.html">d4p_renditionTargetDomain</a><ul><li><a href="../../../../languageRef/d4p_renditionTargetAttDomain/d4p_renditionTarget.html">d4p_renditionTarget</a></li></ul></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4p_rubyDomain/d4p_rubyDomain.html">d4p_rubyDomain</a><ul><li><a href="../../../../languageRef/d4p_rubyDomain/rb.html">rb</a></li><li><a href="../../../../languageRef/d4p_rubyDomain/rp.html">rp</a></li><li><a href="../../../../languageRef/d4p_rubyDomain/rt.html">rt</a></li><li><a href="../../../../languageRef/d4p_rubyDomain/ruby.html">ruby</a></li></ul></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4p_simplebibDomain/d4p_simplebibDomain.html">d4p_simplebibDomain</a><ul><li><a href="../../../../languageRef/d4p_simplebibDomain/d4p_simpleBiblioentry.html">d4p_simpleBiblioentry</a></li><li><a href="../../../../languageRef/d4p_simplebibDomain/d4p_simpleBiblioset.html">d4p_simpleBiblioset</a></li></ul></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4p_simpleEnumerationDomain/d4p_simpleEnumerationDomain.html">d4p_simpleEnumerationDomain</a><ul><li><a href="../../../../languageRef/d4p_simpleEnumerationDomain/d4pPageNumber.html">d4pPageNumber</a></li><li><a href="../../../../languageRef/d4p_simpleEnumerationDomain/d4pPageRange.html">d4pPageRange</a></li><li><a href="../../../../languageRef/d4p_simpleEnumerationDomain/d4pSimpleEnumerator.html">d4pSimpleEnumerator</a></li></ul></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4p_textbookDomain/d4p_textbookDomain.html">d4p_textbookDomain</a><ul><li><a href="../../../../languageRef/d4p_textbookDomain/d4p_display-map.html">d4p_display-map</a></li></ul></li><li><a href="../../../../languageRef/d4p_trainingMapDomain/d4p_trainingMapDomain.html">d4p_trainingMapDomain</a></li><li><a href="../../../../languageRef/d4p_variablesDomain/d4p_variablesDomain.html">d4p_variablesDomain</a></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4p_verseDomain/d4p_verseDomain.html">d4p_verseDomain</a><ul><li><a href="../../../../languageRef/d4p_verseDomain/stanza.html">stanza</a></li><li><a href="../../../../languageRef/d4p_verseDomain/verse-line.html">verse-line</a></li><li><a href="../../../../languageRef/d4p_verseDomain/verse.html">verse</a></li></ul></li><li class="collapsible collapsed"><a href="../../../../languageRef/pubmapDomain/pubmapDomain.html">pubmapDomain</a><ul><li><a href="../../../../languageRef/pubmapDomain/abbrevlist.html">abbrevlist</a></li><li><a href="../../../../languageRef/pubmapDomain/amendments.html">amendments</a></li><li><a href="../../../../languageRef/pubmapDomain/appendix.html">appendix</a></li><li><a href="../../../../languageRef/pubmapDomain/appendixes.html">appendixes</a></li><li><a href="../../../../languageRef/pubmapDomain/article.html">article</a></li><li><a href="../../../../languageRef/pubmapDomain/back-cover.html">back-cover</a></li><li><a href="../../../../languageRef/pubmapDomain/back-flap.html">back-flap</a></li><li><a href="../../../../languageRef/pubmapDomain/backmatter.html">backmatter</a></li><li><a href="../../../../languageRef/pubmapDomain/book-jacket.html">book-jacket</a></li><li><a href="../../../../languageRef/pubmapDomain/bibliolist.html">bibliolist</a></li><li><a href="../../../../languageRef/pubmapDomain/chapter.html">chapter</a></li><li><a href="../../../../languageRef/pubmapDomain/colophon.html">colophon</a></li><li><a href="../../../../languageRef/pubmapDomain/copyright-page.html">copyright-page</a></li><li><a href="../../../../languageRef/pubmapDomain/covers.html">covers</a></li><li><a href="../../../../languageRef/pubmapDomain/dedication.html">dedication</a></li><li><a href="../../../../languageRef/pubmapDomain/department.html">department</a></li><li><a href="../../../../languageRef/pubmapDomain/division.html">division</a></li><li><a href="../../../../languageRef/pubmapDomain/draftintro.html">draftintro</a></li><li><a href="../../../../languageRef/pubmapDomain/epub-cover.html">epub-cover</a></li><li><a href="../../../../languageRef/pubmapDomain/epub-cover-graphic.html">epub-cover-graphic</a></li><li><a href="../../../../languageRef/pubmapDomain/figurelist.html">figurelist</a></li><li><a href="../../../../languageRef/pubmapDomain/forward.html">forward</a></li><li><a href="../../../../languageRef/pubmapDomain/front-cover.html">front-cover</a></li><li><a href="../../../../languageRef/pubmapDomain/front-flap.html">front-flap</a></li><li><a href="../../../../languageRef/pubmapDomain/frontmatter.html">frontmatter</a></li><li><a href="../../../../languageRef/pubmapDomain/glossary.html">glossary</a></li><li><a href="../../../../languageRef/pubmapDomain/glossentry.html">glossentry</a></li><li><a href="../../../../languageRef/pubmapDomain/glossary-group.html">glossary-group</a></li><li><a href="../../../../languageRef/pubmapDomain/glossarylist.html">glossarylist</a></li><li><a href="../../../../languageRef/pubmapDomain/indexlist.html">indexlist</a></li><li><a href="../../../../languageRef/pubmapDomain/inside-front-cover.html">inside-front-cover</a></li><li><a href="../../../../languageRef/pubmapDomain/keydefs.html">keydefs</a></li><li><a href="../../../../languageRef/pubmapDomain/keydef-group.html">keydef-group</a></li><li><a href="../../../../languageRef/pubmapDomain/mainpubtitle.html">mainpubtitle</a></li><li><a href="../../../../languageRef/pubmapDomain/notices.html">notices</a></li><li><a href="../../../../languageRef/pubmapDomain/page.html">page</a></li><li><a href="../../../../languageRef/pubmapDomain/part.html">part</a></li><li><a href="../../../../languageRef/pubmapDomain/partsection.html">partsection</a></li><li><a href="../../../../languageRef/pubmapDomain/preface.html">preface</a></li><li><a href="../../../../languageRef/pubmapDomain/pubabstract.html">pubabstract</a></li><li><a href="../../../../languageRef/pubmapDomain/publibrary.html">publibrary</a></li><li><a href="../../../../languageRef/pubmapDomain/publist.html">publist</a></li><li><a href="../../../../languageRef/pubmapDomain/publists.html">publists</a></li><li><a href="../../../../languageRef/pubmapDomain/pubbody.html">pubbody</a></li><li><a href="../../../../languageRef/pubmapDomain/pubtitle.html">pubtitle</a></li><li><a href="../../../../languageRef/pubmapDomain/pubtitlealt.html">pubtitlealt</a></li><li><a href="../../../../languageRef/pubmapDomain/publication.html">publication</a></li><li><a href="../../../../languageRef/pubmapDomain/sidebar.html">sidebar</a></li><li><a href="../../../../languageRef/pubmapDomain/spine.html">spine</a></li><li><a href="../../../../languageRef/pubmapDomain/subsection.html">subsection</a></li><li><a href="../../../../languageRef/pubmapDomain/subtitle.html">subtitle</a></li><li><a href="../../../../languageRef/pubmapDomain/tablelist.html">tablelist</a></li><li><a href="../../../../languageRef/pubmapDomain/toc.html">toc</a></li><li><a href="../../../../languageRef/pubmapDomain/trademarklist.html">trademarklist</a></li><li><a href="../../../../languageRef/pubmapDomain/wrap-cover.html">wrap-cover</a></li></ul></li><li><a href="../../../../languageRef/pubmapMaprefDomain/pubmapMaprefDomain.html">pubmapMaprefDomain</a></li><li class="collapsible collapsed"><a href="../../../../languageRef/pubmetadataDomain/pubmetadataDomain.html">pubmetadataDomain</a><ul><li><a href="../../../../languageRef/pubmetadataDomain/approved.html">approved</a></li><li><a href="../../../../languageRef/pubmetadataDomain/completed.html">completed</a></li><li><a href="../../../../languageRef/pubmetadataDomain/copyrfirst.html">copyrfirst</a></li><li><a href="../../../../languageRef/pubmetadataDomain/copyrlast.html">copyrlast</a></li><li><a href="../../../../languageRef/pubmetadataDomain/day.html">day</a></li><li><a href="../../../../languageRef/pubmetadataDomain/doi.html">doi</a></li><li><a href="../../../../languageRef/pubmetadataDomain/edited.html">edited</a></li><li><a href="../../../../languageRef/pubmetadataDomain/edition.html">edition</a></li><li><a href="../../../../languageRef/pubmetadataDomain/isbn-10.html">isbn-10</a></li><li><a href="../../../../languageRef/pubmetadataDomain/isbn-13.html">isbn-13</a></li><li><a href="../../../../languageRef/pubmetadataDomain/isbn.html">isbn</a></li><li><a href="../../../../languageRef/pubmetadataDomain/issn-10.html">issn-10</a></li><li><a href="../../../../languageRef/pubmetadataDomain/issn-13.html">issn-13</a></li><li><a href="../../../../languageRef/pubmetadataDomain/issn.html">issn</a></li><li><a href="../../../../languageRef/pubmetadataDomain/issue.html">issue</a></li><li><a href="../../../../languageRef/pubmetadataDomain/locnumber.html">locnumber</a></li><li><a href="../../../../languageRef/pubmetadataDomain/maintainer.html">maintainer</a></li><li><a href="../../../../languageRef/pubmetadataDomain/month.html">month</a></li><li><a href="../../../../languageRef/pubmetadataDomain/organization.html">organization</a></li><li><a href="../../../../languageRef/pubmetadataDomain/person.html">person</a></li><li><a href="../../../../languageRef/pubmetadataDomain/printlocation.html">printlocation</a></li><li><a href="../../../../languageRef/pubmetadataDomain/pubchangehistory.html">pubchangehistory</a></li><li><a href="../../../../languageRef/pubmetadataDomain/pubevent.html">pubevent</a></li><li><a href="../../../../languageRef/pubmetadataDomain/pubeventtype.html">pubeventtype</a></li><li><a href="../../../../languageRef/pubmetadataDomain/pubid.html">pubid</a></li><li><a href="../../../../languageRef/pubmetadataDomain/publicense.html">publicense</a></li><li><a href="../../../../languageRef/pubmetadataDomain/published.html">published</a></li><li><a href="../../../../languageRef/pubmetadataDomain/publisherinformation.html">publisherinformation</a></li><li><a href="../../../../languageRef/pubmetadataDomain/publishtype.html">publishtype</a></li><li><a href="../../../../languageRef/pubmetadataDomain/pubmeta.html">pubmeta</a></li><li><a href="../../../../languageRef/pubmetadataDomain/pubnumber.html">pubnumber</a></li><li><a href="../../../../languageRef/pubmetadataDomain/pubowner.html">pubowner</a></li><li><a href="../../../../languageRef/pubmetadataDomain/pubpartno.html">pubpartno</a></li><li><a href="../../../../languageRef/pubmetadataDomain/pubrestriction.html">pubrestriction</a></li><li><a href="../../../../languageRef/pubmetadataDomain/pubrights.html">pubrights</a></li><li><a href="../../../../languageRef/pubmetadataDomain/reviewed.html">reviewed</a></li><li><a href="../../../../languageRef/pubmetadataDomain/revisionid.html">revisionid</a></li><li><a href="../../../../languageRef/pubmetadataDomain/started.html">started</a></li><li><a href="../../../../languageRef/pubmetadataDomain/summary.html">summary</a></li><li><a href="../../../../languageRef/pubmetadataDomain/tested.html">tested</a></li><li><a href="../../../../languageRef/pubmetadataDomain/volume.html">volume</a></li><li><a href="../../../../languageRef/pubmetadataDomain/year.html">year</a></li></ul></li><li class="collapsible collapsed"><a href="../../../../languageRef/xmlDomain/xmlDomain.html">xmlDomain</a><ul><li><a href="../../../../languageRef/xmlDomain/numcharref.html">numcharref</a></li><li><a href="../../../../languageRef/xmlDomain/parment.html">parment</a></li><li><a href="../../../../languageRef/xmlDomain/textent.html">textent</a></li><li><a href="../../../../languageRef/xmlDomain/xmlatt.html">xmlatt</a></li><li><a href="../../../../languageRef/xmlDomain/xmlelem.html">xmlelem</a></li></ul></li></ul></li><li class="collapsible collapsed"><a href="../../../../languageRef/d4p-map-type-specializations.html">Map Type Specializations</a><ul><li><a href="../../../../languageRef/learningMap/learningMap.html">learningMap</a></li><li><a href="../../../../languageRef/map/map.html">map</a></li><li><a href="../../../../languageRef/pub-component-map/pub-component-map.html">pub-component-map</a></li><li><a href="../../../../languageRef/pubmap/pubmap.html">pubmap</a></li><li><a href="../../../../languageRef/report/report.html">report</a></li><li><a href="../../../../languageRef/trainingMap/trainingMap.html">trainingMap</a></li></ul></li></ul></li></ul></li><li class="collapsible collapsed"><a href="../../transform-frameworks-part/transform-frameworks-part.html"><span class="enumeration enumeration0">Part&nbsp;III. </span>The DITA For Publishers Word to DITA and DITA to InDesign Tools</a><ul><li class="collapsible collapsed"><a href="../../word2dita/word2dita-intro.html"><span class="enumeration enumeration1">Chapter&nbsp;12. </span>The Word-to-DITA Transformation Framework</a><ul><li><a href="../../word2dita/w2d-getting-started.html">Getting Started With The Word2DITA Transform</a></li><li class="collapsible collapsed"><a href="../../word2dita/word-to-dita-plugin-usage.html">Generating DITA from Word Using the Toolkit Plugin</a><ul><li><a href="../../word2dita/word-to-dita-ant-task.html">Setting Up an Ant Script for Running the Word-to-DITA Transform</a></li></ul></li><li><a href="../../../docx2dita_guide_and_reference/word2dita-from-oxygen.html">Generating DITA From Within OxygenXML</a></li><li><a href="../../../docx2dita_guide_and_reference/style-to-tag-map-overview.html">Style to Tag Mapping</a></li><li><a href="../../word2dita/common-mapping-cases.html">Common Style-to-Tag Mapping Cases</a></li><li><a href="../../word2dita/troubleshooting-word2dita.html">Troubleshooting the Word-to-DITA Process</a></li><li><a href="../../word2dita/word2dita-video-tutorial-01.html">Word-to-DITA Style-to-Tag Mapping Video Tutorial</a></li><li class="collapsible collapsed"><a href="../../word2dita/customizing-the-transform.html">Extending and Overriding the Word to DITA Transform</a><ul><li><a href="../../word2dita/sample-customization-transform.html">Sample Custom Word-to-DITA XSLT Stylesheet</a></li></ul></li><li><a href="../../word2dita/word-usage-tips.html">Tips for Using Word With the Word-to-DITA Transform</a></li><li><a href="../../../docx2dita_guide_and_reference/style-to-tag-map-migrate.html">Migrating the Style-to-tag Mapping</a></li><li><a href="../../word2dita/transform-parameters.html">Word-to-DITA XSLT Transformation Parameters</a></li><li><a href="../../word2dita/word2dita-ant-parameters.html">Word-to-DITA Ant Parameters</a></li></ul></li><li class="collapsible collapsed"><a href="../../dita2indesign/dita-to-indesign-framework-chapter.html"><span class="enumeration enumeration1">Chapter&nbsp;13. </span>The DITA-to-InDesign Transformation Framework</a><ul><li><a href="../../dita2indesign/indesign-product-overview.html">Overview of the InDesign and InCopy Products</a></li><li><a href="../../dita2indesign/generating-incopy-articles-from-topics.html">Generating InCopy Articles from DITA Topics</a></li><li><a href="../../dita2indesign/dita-to-indesign-plugin-usage.html">Generating InDesign from DITA Using the Toolkit Plugin</a></li><li class="collapsible collapsed"><a href="../../dita2indesign/generating-incopy-articles.html">Configuring the DITA-to-InDesign Transformation</a><ul><li><a href="../../dita2indesign/mapping-paragraphs-to-indesign-styles.html">Mapping XML Elements to InDesign Paragraph and Character Styles</a></li><li><a href="../../dita2indesign/grouped-style-name-syntax.html">Specifying InDesign Grouped Style Names</a></li></ul></li><li><a href="../../dita2indesign/indesign-optimization.html">Preparing InDesign Templates for DITA-to-InDesign Use</a></li></ul></li></ul></li><li><a href="../../backmatter/colophon.html">Colophon</a></li><li><a href="../../../../generated-index.html">Index</a></li></ul></div></nav><div id="d4h5-main-content" class="grid_8 alpha omega"><article><nav id="content-toolbar" class="toolbar hide-for-small"><div class="familylinks"><div class="previouslink"><a href="ruby-domain.html" title=""><span class="fi fi-arrow-left"></span><span class="screen-reader"></span></a></div><div class="nextlink"><a href="verse-domain.html" title=""><span class="fi fi-arrow-right"></span><span class="screen-reader"></span></a></div></div></nav><section id="page"><div class="topic concept"><a id="conceptId" class="anchor"></a> <h1 class="title topictitle1">Variables Domain</h1> <div class="body conbody"><p class="shortdesc">The variables domain provides markup for declaring and referencing variables that are scoped by the map and topic hierarchy.</p> <p class="p">Variables are declared in map metadata, topicref metadata, topic prologs, and topic content. Variable definitions are specializations of <code>&lt;<span class="keyword xmlelem">data</span>&gt;</code> and may occur wherever <code>&lt;<span class="keyword xmlelem">data</span>&gt;</code> is allowed.</p> <p class="p">References may occur anywhere that <code>&lt;<span class="keyword xmlelem">keyword</span>&gt;</code> or <code>&lt;<span class="keyword xmlelem">text</span>&gt;</code> is allowed.</p> <p class="p">Variable resolution is done at output processing time, meaning the last step in a normal DITA process. This means that all content references and all filtering should have been applied by the time variable references and definitions are processed. This means you can use normal content reference and filtering facilities to determine the effective values of variable definitions and variable references.</p> <p class="p">Note that as of D4P version 0.9.19 the Variables mechanism does not attempt to cover all use cases. It is intentionally simple so as to make implementation easy and foster use and experimentation in order to gather futher requirements. A complete variables facility, such as would be appropriate for inclusion in the DITA specification, could be quite a bit more complicated. </p> </div> <div class="related-links"></div> <section id="topic_yyg_twl_y3" class="topic concept nested1"> <h2 class="title topictitle2">Variable Definitions: <code>&lt;<span class="keyword xmlelem">d4p-variable-definition</span>&gt;</code> and <code>&lt;<span class="keyword xmlelem">d4p-variable-definitions</span>&gt;</code></h2> <div class="body conbody"> <div class="p">Variable definitions are defined using the <code>&lt;<span class="keyword xmlelem">d4p-variable-definition</span>&gt;</code> element and always contained by the <code>&lt;<span class="keyword xmlelem">d4p-variable-definitions</span>&gt;</code> element:<pre class="pre codeblock">  &lt;topicmeta&gt;
    <strong class="ph b">&lt;d4p-variable-definitions&gt;</strong>
      <strong class="ph b">&lt;d4p-variable-definition</strong> name="prodname"
       &gt;&lt;tm&gt;MyProduct&lt;/tm&gt;&lt;/d4p-variable-definition&gt;
    &lt;/d4p-variable-definitions&gt;
  &lt;/topicmeta&gt;</pre></div> <p class="p">The <code>@<span class="keyword xmlatt">name</span></code> attribute is the name of the variable, by which it is referenced using <code>&lt;<span class="keyword xmlelem">d4p-variableref-keyword</span>&gt;</code> or <code>&lt;<span class="keyword xmlelem">d4p-variableref-text</span>&gt;</code>. The name may be any string. Because it is defined in an XML attribute, any whitespace in the value will be normalized to single space characters. This allows you to use normal content as a variable name if appropriate, e.g. <samp class="ph codeph">&lt;d4p-variable-definition name="default value for variable"&gt;...</samp> where that variable name could be appropriate as the default or fallback value for the variable, as the variable reference will simply be rendered as-is when there is no declaration for variable in the referencing scope.</p> <p class="p">The variable value may be specified either using the <code>@<span class="keyword xmlatt">value</span></code> attribute or in the content of the <code>&lt;<span class="keyword xmlelem">d4p-variable-definition</span>&gt;</code> element. If <code>@<span class="keyword xmlatt">value</span></code> is specified then the content of the element is ignored. This allows you to use the content of the variable definition as documentation for the variable if you choose.</p> <p class="p">If you put the variable value in the content then you may use any markup allowed where the variable reference is allowed (or, more accurately, where the content can be usefully and correctly processed, which is not quite the same thing).</p> <p class="p">Note that variable references are not content references and so the same strict content model consistency constraints do not necessarily apply. However, you should be careful to only put markup in variables that will be correctly and appropriately processed in the context where the variables are referenced. In practice, this means limiting your content to normal inline markup and avoiding things like footnotes, cross references, block elements, and so on. If you want to impose more constraints on what is allowed in variable definitions, you can use constraint modules or further specialization to do so. The base markup as defined by the D4P project errs on the side of generality.</p> <div class="p">The <code>&lt;<span class="keyword xmlelem">d4p-variable-definitions</span>&gt;</code> element serves to group and label sets of variable definitions. The element may have an initial <code>&lt;<span class="keyword xmlelem">title</span>&gt;</code> element, which serves as a descriptive label for the group, and <code>&lt;<span class="keyword xmlelem">d4p-variable-definitions</span>&gt;</code> may be nested:<pre class="pre codeblock">  ...
  &lt;prolog&gt;
    <strong class="ph b">&lt;d4p-variable-definitions&gt;</strong>
      <strong class="ph b">&lt;title&gt;Top-level variable definitions&lt;/title&gt;</strong>
      <strong class="ph b">&lt;d4p-variable-definitions&gt;</strong>
        <strong class="ph b">&lt;title&gt;Nested variable definitions element&lt;/title&gt;</strong>
        &lt;d4p-variable-definition-fallback
          name="varFallbackDefinedInRootTopic"&gt;This is the fallback value defined
          in the root topic&lt;/d4p-variable-definition-fallback&gt;
      &lt;/d4p-variable-definitions&gt;
    &lt;/d4p-variable-definitions&gt;
  &lt;/prolog&gt;
  ...</pre></div> <p class="p">When resolving variables, the first definition within a given scope (containing element) in document order wins, so in the case of nested <code>&lt;<span class="keyword xmlelem">d4p-variable-definitions</span>&gt;</code> elements, the nesting is not significant, only the order of the definitions in normal depth-first tree order. This means that a definition contained by the top-level variable definitions group but occurring after all nested variable definition groups could be overridden by a definition within any of the nested groups. You can take advantage of this behavior to have "default" values that may be overridden by nested groups used by reference.</p> </div> </section> <section id="concept_yrk_b4s_y3" class="topic concept nested1"> <h2 class="title topictitle2">Fallback values: <code>&lt;<span class="keyword xmlelem">d4p-variable-definition-fallback</span>&gt;</code></h2> <div class="body conbody"> <p class="p">For topics that may used in many contexts, you often want to have fallback values for the variables referenced from those topics so that when those variables are not declared at all, an appropriate value is used, such as "variable XXX not defined" or an appropriate default value, or whatever. Fallback values are used only when there is no other in-scope declaration of the variable. That is, you don't want the fallback value to override attempts to set the variable. </p> <p class="p">Fallback values are declared using the <code>&lt;<span class="keyword xmlelem">d4p-variable-definition-fallback</span>&gt;</code> element, normally within topic prologs, although you can declare fallback values within any scope, just as for other variables.</p> <p class="p">Fallback values are used only when there is no other in-scope definition of the variable. This includes definitions in the same scope as the fallback, meaning that if you have both a fallback and normal definition of the same variable name in the same scope, the fallback will never be used. You might have this case if you have a set of fallback values that are reused by conref and you happen, in one use context, to also define a value for the variable. In that case, the existence of the fallback will not interfere with the other definition of the variable.</p> </div> </section> <section id="concept_k13_zzl_y3" class="topic concept nested1"> <h2 class="title topictitle2">Variable References: <code>&lt;<span class="keyword xmlelem">d4p-variableref_keyword</span>&gt;</code> and <code>&lt;<span class="keyword xmlelem">d4p-variableref_text</span>&gt;</code></h2> <div class="body conbody"> <p class="p">Variables may be referenced in any context where <code>&lt;<span class="keyword xmlelem">keyword</span>&gt;</code> or <code>&lt;<span class="keyword xmlelem">text</span>&gt;</code> are allowed, using the corresponding specialization, <code>&lt;<span class="keyword xmlelem">d4p-variableref_keyword</span>&gt;</code> or <code>&lt;<span class="keyword xmlelem">d4p-variableref_text</span>&gt;</code>.</p> <div class="p">The content of the reference element is the variable name:<pre class="pre codeblock">&lt;p&gt;The <strong class="ph b">&lt;d4p-variableref_keyword&gt;prodname&lt;/d4p-variableref_keyword&gt;</strong> 
product...&lt;/p&gt;</pre></div> <p class="p">If the variable cannot be resolved (or you don't have processing support for D4P variables installed), then the content of the reference element is used, just as for normal <code>&lt;<span class="keyword xmlelem">keyword</span>&gt;</code> or <code>&lt;<span class="keyword xmlelem">text</span>&gt;</code> processing. If the variable can be resolved, then the nearest variable definition is used to determine the effective value.</p> <div class="p">The effective binding for a variable is determined as follows:<ol class="ol" id="concept_k13_zzl_y3__ol_h1g_r1m_y3"> <li class="li">In all cases, only the direct element and map tree ancestry of the reference is considered, with the exception of topic prologs, which always appy to the entire topic (including the topic title). Definitions in sibling topics, maps, or topicrefs are never considered for the purpose of determining the effective definition for a given reference. </li> <li class="li">The nearest definition within ancestor elements determines the effective binding. For elements within topics, this includes any ancestry within the topic body as well as definitions within the topic's prolog. Note that the placement of the definition within the ancestor is not important—in particular, the variable definition could come after the subelement that contains the reference. </li> <li class="li">For topics referenced from maps, if there is no definition within the topic, then the nearest definition in the map tree ancestry determines the effective binding. That is, definitions are scoped by topicrefs such that the definition in the nearest topicref to the topic that references the topic provides the binding.</li> <li class="li">If the variable is not defined within the topic or within any topicref in the map tree ancestry, then any definition within the map's metadata is used. This means that root maps may define default values for variables.</li> <li class="li">If a variable is not defined anywhere, processors may choose to provide default values or otherwise allow for run-time definition of variables.</li> </ol></div> <aside class="note note note"><span class="title">Note:</span> Because submap metadata is not always maintained or necessarily even available in all processing contexts, variables defined in the <code>&lt;<span class="keyword xmlelem">topicmeta</span>&gt;</code> child of submap elements will be ignored. If you want to define variables in submaps, use a wrapper topicref element around the topicrefs, either <code>&lt;<span class="keyword xmlelem">topicgroup</span>&gt;</code> or another allowed topicref type.</aside> <p class="p">Stated more informally, the intent of these rules is that elements define variable scopes within topics and topicrefs define scopes within maps.</p> <p class="p">Note: Within topics, only references defined within topic documents are considered—topics related into a hierarchy via maps do not affect the variable definitions within each other, meaning that variable resolution processors do not need to look in map-defined ancestor topics for variable definitions, only literal ancestor topics within the same XML document. However, if topics are merged because of normal DITA <code>@<span class="keyword xmlatt">chunk</span></code> processing or via some type of topic merging, such as is done for the Toolkit's PDF processing, then previously-separate XML documents may become single XML documents and thus affect variable resolution. However, this would normally only affect fallback values such that a variable reference for which there was no fallback (because none was defined in the topic's direct XML ancestry) would now have a fallback or a defined value, because one was defined in an ancestor in the merged document. Because the nearest definition to a reference is the always used, it is not possible for chunking and merging to affect the values of variables defined in the original XML ancestry.</p> </div> </section> <footer id="topicsNPLinks"><div id="footer_previous"><a href="../../../../user_docs/d4p-users-guide/vocabulary-part/topics/ruby-domain.html" class="previous" rel="internal">Ruby Domain</a></div><div id="footer_next"><a href="../../../../user_docs/d4p-users-guide/vocabulary-part/topics/verse-domain.html" class="next" rel="internal">Verse Domain</a></div></footer></div></section></article><div class="clear"></div></div><div class="clearfix"></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"></div></div></body></html>