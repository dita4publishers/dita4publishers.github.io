<?xml version="1.0" encoding="UTF-8"?><html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
<meta name="copyright" content="(C) Copyright 2005"></meta>
<meta name="DC.rights.owner" content="(C) Copyright 2005"></meta>
<meta name="DC.Type" content="concept"></meta>
<meta name="DC.Title" content="Embedding Fonts in Your EPUB"></meta>
<meta name="abstract" content="You can embed fonts into your EPUB by providing a manifest that lists the font files to be embedded."></meta>
<meta name="description" content="You can embed fonts into your EPUB by providing a manifest that lists the font files to be embedded."></meta>
<meta name="DC.subject" content="font, embedding in EPUB, embedding, fonts, manifest (for embedding), manifest, font embedding, css, @font-face instructions, @font-face CSS instruction, using from CSS"></meta>
<meta name="keywords" content="font, embedding in EPUB, embedding, fonts, manifest (for embedding), manifest, font embedding, css, @font-face instructions, @font-face CSS instruction, using from CSS"></meta>
<meta name="DC.Relation" scheme="URI" content="generating-epubs.html"></meta>
<meta name="DC.Relation" scheme="URI" content="overriding-base-processing.html"></meta>
<meta name="DC.Relation" scheme="URI" content="epub-transtype-parameters-ref.html"></meta>
<meta name="prodname" content="DITA For Publishers"></meta>
<meta name="prodname" content="DITA For Publishers"></meta>
<meta name="prodname" content="DITA For Publishers"></meta>
<meta name="prodname" content="DITA For Publishers"></meta>
<meta name="version" content="1"></meta>
<meta name="version" content="1"></meta>
<meta name="version" content="1"></meta>
<meta name="version" content="1"></meta>
<meta name="release" content="0"></meta>
<meta name="release" content="0"></meta>
<meta name="release" content="0"></meta>
<meta name="release" content="0"></meta>
<meta name="modification" content="0RC17"></meta>
<meta name="modification" content="0RC17"></meta>
<meta name="modification" content="0RC17"></meta>
<meta name="modification" content="0RC17"></meta>
<meta name="DC.Creator" content="W. Eliot Kimber"></meta>
<meta name="DC.Creator" content="W. Eliot Kimber"></meta>
<meta name="DC.Creator" content="W. Eliot Kimber"></meta>
<meta name="DC.Creator" content="W. Eliot Kimber"></meta>
<meta name="DC.Format" content="XHTML"></meta>
<meta name="DC.Identifier" content="conceptId"></meta>
<link rel="stylesheet" type="text/css" href="../../../commonltr.css"></link>
<title>Embedding Fonts in Your EPUB</title>
</head>
<body id="conceptId">


 <h1 class="title topictitle1">Embedding Fonts in Your EPUB</h1>
 
  
 <div class="body conbody"><p class="shortdesc">You can embed fonts into your EPUB by providing a manifest that lists the font files to
    be embedded.</p>

    <p class="p">While embedding fonts in EPUBs is generally not recommended because of interoperation and
      file size concerns, if you need to embed fonts in your EPUB you can do so.</p>

    <p class="p">To embed fonts you define a <dfn class="term">font manifest</dfn> document that lists the fonts to be
      embedded and then specify the URI of the manifest as a runtime option to the EPUB transform
        (<a class="xref" href="reference/ant-parm-epub-font-manifest.html">epub.font.manifest Ant parameter</a>). The fonts listed
      will be copied to the temporary output location and included in the EPUB file. You can also
      specify the location within the EPUB package where the fonts will be stored, which by default
      is the directory named "<span class="ph filepath">fonts</span>" (<a class="xref" href="reference/ant-parm-epub-font-output-dir.html">epub.fonts.output.dir Ant parameter</a>).</p>

    <p class="p">You can optionally obfuscate any fonts by specifying "obfuscate" for the
        <code>@obfuscate</code> attribute and setting the runtime Ant property
        <span class="keyword parmname">epub.obfuscate.fonts</span> to true (<a class="xref" href="reference/ant-parm-d4p.obfuscate.fonts.html">epub.obfuscate.fonts Ant parameter</a>). By default fonts are not obfuscated and fonts
      marked for obfuscation are not actually obfuscated unless you specifically turn obfuscation on
      with the <span class="keyword parmname">epub.obfuscate.fonts</span> Ant property. This allows you to generate
      EPUBs with unobfuscated fonts for testing or for use with readers that do not support
      obfuscation without having to modify the font manifest.</p>

    <p class="p">You must create the appropriate <code>@font-face</code> entries in the CSS style sheets
      used for the HTML content. The @font-face entries must reflect the location of the fonts in
      the final EPUB package, not their source location. For example, if the fonts are stored in a
      directory named "<span class="ph filepath">my-fonts</span>" but packaged in the default
        "<span class="ph filepath">fonts</span>" directory, then your CSS needs to reflect the
        "<span class="ph filepath">fonts</span>" directory, not "<span class="ph filepath">my-fonts</span>". See examples of
        <code>@font-face</code> entries below.</p>

  </div>

  <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="generating-epubs.html">generating-epubs.html</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="overriding-base-processing.html">overriding-base-processing.html</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="epub-transtype-parameters-ref.html">epub-transtype-parameters-ref.html</a></div>
</div>
</div>
<div class="topic concept nested1" id="concept_tw3_1nc_r5">
    <h2 class="title topictitle2">The Font Manifest File</h2>

    
    <div class="body conbody">
      <p class="p">The font manifest file is an XML document that lists the fonts to be embedded. The grammar
        for the document is the font-manifest RELAX NG grammar included in the
        org.dita4publishers.doctypes plugin. The plugin also includes a template font manifest
        document.</p>

      <div class="p">A font manifest file looks like
        this:<pre class="pre codeblock">&lt;font-manifest&gt;
    &lt;title&gt;EPUB Font Manifest&lt;/title&gt;
    &lt;desc/&gt;
    &lt;font-set&gt;
      &lt;title&gt;Base font set&lt;/title&gt;
      &lt;desc/&gt;
      &lt;font uri="Papyrus.ttc"/&gt;
    &lt;/font-set&gt;
&lt;/font-manifest&gt;</pre>
</div>

      <p class="p">You use the <code>&lt;font&gt;</code> element to specify the relative URI of a font to embed.
        The URI is relative to the location of the font manifest file itself. In this example, the
        font manifest document must be in the same directory as the referenced font
        ("Papyrus.ttc").</p>

      <p class="p">You group the <code>&lt;font&gt;</code> elements into one or more <code>&lt;font-set&gt;</code>
        elements. For now there is no special functionality associated with font sets but they may
        be used in the future to enable conditional selection of fonts at runtime if anyone needs
        that level of control or convenience.</p>

      <p class="p">The <code>&lt;title&gt;</code> and <code>&lt;desc&gt;</code> elements are just for
        documentation purposes.</p>

      <p class="p">If you need to obfuscate a font when it is embedded you can specify the
          <code>@obfuscate</code> attribute on <code>&lt;font&gt;</code> or
          <code>&lt;font-set&gt;</code> with the value "obfuscate". Fonts marked "obfuscate" will be
        obfuscated when obfuscation is turned on at EPUB generation time (obfuscation is off by
        default).</p>

      <div class="p">For
        example:<pre class="pre codeblock">&lt;font uri="Papyrus.ttc" <strong class="ph b">obfuscate="obfuscate"</strong>/&gt;</pre>
</div>

    </div>

  </div>

  <div class="topic concept nested1" id="epub-embeddig-fonts">
    <h2 class="title topictitle2">Using Fonts from CSS Style Sheets (@font-face)</h2>

    
    <div class="body conbody">
      <p class="p">To use embedded fonts you must include @font-face instructions in your CSS style sheets in
        order to associate font family names to the font files in your EPUB. There is no automatic
        matching of font-family values to font files. The EPUB generation process does not do any
        manipulation of CSS files for you.</p>

      <div class="p">A typical @font-face instruction looks like
        this:<pre class="pre codeblock">@font-face {
  font-family : Arial;
  font-weight : bold;
  font-style: normal;
  src : url(../fonts/Arial-BoldMT.ttf);
}</pre>
</div>

      <p class="p">The font-family value is the name that will be used on font-family entries elsewhere in the
        CSS. The src value is the relative URL of the font file as it is packaged in the EPUB,
        relative to the location of the CSS style sheet file as packaged in the EPUB.</p>

      <p class="p">In this example, the style sheet must be in a directory next to the
          <span class="ph filepath">fonts</span> directory, maybe a directory named
        <span class="ph filepath">css</span>.</p>

      <p class="p">You need one @font-face entry for each different combination of font properties (font
        weight, font style, etc.) for a given font family.</p>

      <p class="p">See the CSS specification or a good CSS guide for details.</p>

    </div>

  </div>


</body>
</html>